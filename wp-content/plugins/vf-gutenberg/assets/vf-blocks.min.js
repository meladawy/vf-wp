!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=React},function(e,t,n){"use strict";n.r(t);var r=n(0);const o=()=>{const e=window.vfGutenberg||{};return e.hasOwnProperty("postId")||(e.postId=0),e.hasOwnProperty("nonce")||(e.nonce=""),e},l=e=>{const{postId:t,nonce:n}=o(),[l,a]=Object(r.useState)({}),[i,c]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{(async()=>{c(!0);try{const r=await wp.ajax.post("vf_gutenberg_fetch_block",{...e,postId:t,nonce:n});a(r),c(!1)}catch(e){}})()},[...Object.values(e)]),{data:l,isLoading:i}};var a=wp.i18n.__,i=wp.compose,c=(i.compose,i.withInstanceId),u=wp.editor,s=(u.InnerBlocks,u.URLInput),d=(u.URLInputButton,u.RichText,u.BlockControls),p=(u.InspectorControls,wp.components),f=p.Toolbar,m=p.IconButton,v=(p.SelectControl,p.Panel,p.PanelBody,p.ToggleControl,p.Button,p.ButtonGroup,p.BaseControl),w=(p.Dashicon,wp.element),b=(w.Component,w.createElement,function(e){var t=e.onClick;return wp.element.createElement(m,{label:a("Edit","vfwp"),icon:"edit",onClick:t})}),g=function(e){var t=e.onClick;return wp.element.createElement(m,{label:"__('Preview', 'vfwp')",icon:"visibility",onClick:t})},y=function(e){var t=e.data,n=Object(r.useRef)(),l=((e,t,n)=>{n={log:!1,checkOrigin:!1,...n||{}};const{iframeResizer:r}=o();return{onLoad:()=>{const o=e.current,l=o.contentWindow.document.body;l.innerHTML=t;const a=document.createElement("script");a.type="text/javascript",a.src=r,a.onload=function(){a.onload=null,setTimeout((function(){o.iFrameResizer.resize()}),100)},l.appendChild(a),window.iFrameResize(n,o)}}})(n,t.html).onLoad;return wp.element.createElement("div",{className:"vf-gutenberg-view"},wp.element.createElement("iframe",{ref:n,onLoad:l,className:"vf-gutenberg-iframe",scrolling:"no"}))},E={title:a("VF Button","vfwp"),icon:"format-aside",category:"vf/core",keywords:[a("VF","vfwp"),a("Visual Framework","vfwp")],attributes:{ver:{type:"integer"},id:{type:"string",default:"vf/button"},mode:{type:"string"},url:{type:"string"}},supports:{align:!1,html:!1,className:!1,customClassName:!1},edit:c((function(e){var t=e.isSelected,n=e.instanceId,r=e.setAttributes,o=e.attributes,i=o.ver,c=o.id,u=o.mode,p=o.url;i||r({ver:1});var m="edit"===u,w=l({id:c,url:p}),E=w.data,h=w.isLoading,k=function(){r({mode:m?"view":"edit"})};return[wp.element.createElement(d,null,wp.element.createElement(f,null,m?wp.element.createElement(g,{onClick:k}):wp.element.createElement(b,{onClick:k}))),wp.element.createElement("div",{className:"vf-gutenberg-block","data-ver":i,"data-id":c,"data-edit":m,"data-selected":t,"data-loading":h},m?wp.element.createElement("div",{className:"vf-gutenberg-edit"},wp.element.createElement(v,{id:"vf-gutenberg-"+n,label:a("URL","vfwp")},wp.element.createElement(s,{id:"vf-gutenberg-"+n,value:p,autoFocus:!1,onChange:function(e){return r({url:e})},disableSuggestions:!t,isFullWidth:!0,hasBorder:!0}))):h?wp.element.createElement((function(){return wp.element.createElement("div",null,a("Loading","vfwp"))}),null):wp.element.createElement(y,{data:E}))]})),save:function(){return null}};(0,wp.blocks.registerBlockType)("vf/button",E)}]);
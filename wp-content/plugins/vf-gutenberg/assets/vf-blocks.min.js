!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=React},function(e,t,n){"use strict";n.r(t);var r=n(0);const o=e=>{const{postId:t,nonce:n}=(()=>{const e=window.vfGutenberg||{};return{postId:e.hasOwnProperty("postId")?e.postId:0,nonce:e.hasOwnProperty("nonce")?e.nonce:""}})(),[o,l]=Object(r.useState)({}),[i,c]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{(async()=>{c(!0);try{const r=await wp.ajax.post("vf_gutenberg_fetch_block",{...e,postId:t,nonce:n});l(r),c(!1),console.log(r)}catch(e){}})()},[...Object.values(e)]),{data:o,isLoading:i}};var l=wp.i18n.__,i=wp.compose,c=(i.compose,i.withInstanceId),a=wp.editor,u=(a.InnerBlocks,a.URLInput),s=(a.URLInputButton,a.RichText,a.BlockControls),p=(a.InspectorControls,wp.components),d=p.Toolbar,f=p.IconButton,m=(p.SelectControl,p.Panel,p.PanelBody,p.ToggleControl,p.Button,p.ButtonGroup,p.BaseControl),v=(p.Dashicon,wp.element),w=(v.Component,v.createElement,function(e){var t=e.onClick;return wp.element.createElement(f,{label:l("Edit","vfwp"),icon:"edit",onClick:t})}),b=function(e){var t=e.onClick;return wp.element.createElement(f,{label:"__('Preview', 'vfwp')",icon:"visibility",onClick:t})},g={title:l("VF Button","vfwp"),icon:"format-aside",category:"vf/core",keywords:[l("VF","vfwp"),l("Visual Framework","vfwp")],attributes:{ver:{type:"integer"},id:{type:"string",default:"vf/button"},mode:{type:"string"},url:{type:"string"}},supports:{align:!1,html:!1,className:!1,customClassName:!1},edit:c((function(e){var t=e.isSelected,n=e.instanceId,r=e.setAttributes,i=e.attributes,c=i.ver,a=i.id,p=i.mode,f=i.url;c||r({ver:1});var v="edit"===p,g=o({id:a,url:f}),y=g.data,E=g.isLoading,_=function(){r({mode:v?"view":"edit"})};return[wp.element.createElement(s,null,wp.element.createElement(d,null,v?wp.element.createElement(b,{onClick:_}):wp.element.createElement(w,{onClick:_}))),wp.element.createElement("div",{className:"vf-gutenberg-block"},v?wp.element.createElement("div",{className:"vf-gutenberg-edit","data-id":a},wp.element.createElement(m,{id:"vf-gutenberg-"+n,label:l("URL","vfwp")},wp.element.createElement(u,{id:"vf-gutenberg-"+n,value:f,autoFocus:!1,onChange:function(e){return r({url:e})},disableSuggestions:!t,isFullWidth:!0,hasBorder:!0}))):wp.element.createElement("div",{className:"vf-gutenberg-view","data-id":a},wp.element.createElement((function(){return E?wp.element.createElement("div",null,l("Loading","vfwp")):wp.element.createElement("div",{dangerouslySetInnerHTML:{__html:JSON.stringify(y)}})}),null)))]})),save:function(){return null}};(0,wp.blocks.registerBlockType)("vf/button",g)}]);